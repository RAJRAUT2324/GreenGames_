<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Eco Memory Match</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e6f3fa;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            overflow: hidden;
        }

        #game-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: clamp(10px, 3vw, 20px);
            max-width: 700px;
            width: 90%;
        }

        h1 {
            color: #2196f3;
            margin-bottom: 20px;
            font-size: clamp(1.5rem, 4vw, 2rem);
        }

        #instructions {
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            margin-bottom: 15px;
        }

        #timer {
            font-size: clamp(0.9rem, 2.5vw, 1.2rem);
            color: #f44336;
            margin-bottom: 10px;
        }

        #feedback {
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            margin: 15px 0;
            color: #ff5722;
        }

        #score {
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            margin-top: 20px;
        }

        #restart-btn {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: clamp(8px, 2vw, 10px) clamp(16px, 3vw, 20px);
            border-radius: 5px;
            cursor: pointer;
            font-size: clamp(0.8rem, 2vw, 1rem);
            margin-top: 10px;
            transition: background-color 0.3s;
            display: none;
        }

        #restart-btn:hover {
            background-color: #388e3c;
        }

        #game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: clamp(5px, 1vw, 10px);
            max-width: 100%;
            margin: 0 auto;
        }

        .card {
            aspect-ratio: 1 / 1;
            background-color: #b0bec5;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(1rem, 3vw, 1.5rem);
            cursor: pointer;
            transition: transform 0.3s, background-color 0.3s;
            user-select: none;
            touch-action: manipulation;
        }

        .card.flipped {
            background-color: #90caf9;
            transform: rotateY(180deg);
        }

        .card.matched {
            background-color: #4caf50;
            cursor: default;
        }

        /* Responsive design */
        @media (max-width: 600px) {
            #game-container {
                padding: clamp(8px, 2vw, 15px);
                width: 95%;
            }

            h1 {
                font-size: clamp(1.2rem, 3.5vw, 1.5rem);
            }

            #instructions, #timer, #feedback, #score {
                font-size: clamp(0.8rem, 2vw, 1rem);
            }

            #restart-btn {
                padding: clamp(6px, 1.5vw, 8px) clamp(12px, 2.5vw, 16px);
                font-size: clamp(0.7rem, 1.8vw, 0.9rem);
            }

            #game-board {
                grid-template-columns: repeat(4, 1fr);
                gap: clamp(3px, 0.8vw, 8px);
            }

            .card {
                font-size: clamp(0.8rem, 2.5vw, 1.2rem);
            }
        }

        @media (max-width: 480px) {
            #game-container {
                padding: clamp(5px, 1.5vw, 10px);
            }

            h1 {
                font-size: clamp(1rem, 3vw, 1.3rem);
            }

            #instructions, #timer, #feedback, #score {
                font-size: clamp(0.7rem, 1.8vw, 0.9rem);
            }

            #restart-btn {
                padding: clamp(5px, 1.2vw, 7px) clamp(10px, 2vw, 14px);
                font-size: clamp(0.6rem, 1.5vw, 0.8rem);
            }

            #game-board {
                gap: clamp(2px, 0.5vw, 6px);
            }

            .card {
                font-size: clamp(0.6rem, 2vw, 1rem);
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Eco Memory Match</h1>
        <p id="instructions">Flip cards to match environmental concepts before the timer runs out!</p>
        <div id="timer">Time: 60s</div>
        <div id="feedback"></div>
        <div id="score">Score: 0 / 8</div>
        <div id="game-board"></div>
        <button id="restart-btn">Play Again</button>
    </div>

    <script>
        const ecoConcepts = [
            { id: 'solar', content: 'â˜€ï¸', feedback: 'Solar Energy: Harnesses sunlight to produce clean, renewable power.' },
            { id: 'wind', content: 'ðŸŒ¬ï¸', feedback: 'Wind Energy: Uses wind turbines to generate electricity, reducing carbon emissions.' },
            { id: 'recycle', content: 'â™»ï¸', feedback: 'Recycling: Reduces waste by reusing materials, conserving resources.' },
            { id: 'forest', content: 'ðŸŒ³', feedback: 'Rainforests: Store carbon and support biodiversity, vital for climate stability.' },
            { id: 'reef', content: 'ðŸ ', feedback: 'Coral Reefs: Support marine life but are threatened by warming oceans.' },
            { id: 'pollution', content: 'ðŸ›¢ï¸', feedback: 'Plastic Pollution: Harms marine ecosystems and requires urgent reduction.' },
            { id: 'deforestation', content: 'ðŸª“', feedback: 'Deforestation: Destroys habitats and increases CO2, driving climate change.' },
            { id: 'wetland', content: 'ðŸŒ¾', feedback: 'Wetlands: Filter water and support wildlife, critical for ecosystem health.' }
        ];

        const cards = [...ecoConcepts, ...ecoConcepts]; // Duplicate for pairs
        let flippedCards = [];
        let matchedPairs = 0;
        let score = 0;
        let timeLeft = 60;
        let timerInterval;
        let gameRunning = false;
        const totalPairs = ecoConcepts.length;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame() {
            gameRunning = true;
            matchedPairs = 0;
            score = 0;
            timeLeft = 60;
            flippedCards = [];
            document.getElementById('feedback').textContent = '';
            document.getElementById('restart-btn').style.display = 'none';
            document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
            document.getElementById('score').textContent = `Score: ${score} / ${totalPairs}`;
            setupBoard();
            startTimer();
        }

        function setupBoard() {
            const gameBoard = document.getElementById('game-board');
            gameBoard.innerHTML = '';
            const shuffledCards = shuffle([...cards]);
            shuffledCards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.classList.add('card');
                cardElement.dataset.id = card.id;
                cardElement.textContent = '';
                cardElement.addEventListener('click', () => handleCardClick(cardElement, card));
                cardElement.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    handleCardClick(cardElement, card);
                });
                gameBoard.appendChild(cardElement);
            });
        }

        function handleCardClick(cardElement, card) {
            if (!gameRunning || cardElement.classList.contains('flipped') || cardElement.classList.contains('matched') || flippedCards.length >= 2) {
                return;
            }

            cardElement.classList.add('flipped');
            cardElement.textContent = card.content;
            flippedCards.push({ element: cardElement, id: card.id });

            if (flippedCards.length === 2) {
                checkMatch();
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            if (card1.id === card2.id) {
                card1.element.classList.add('matched');
                card2.element.classList.add('matched');
                score++;
                matchedPairs++;
                document.getElementById('feedback').textContent = ecoConcepts.find(c => c.id === card1.id).feedback;
                document.getElementById('feedback').style.color = '#4caf50';
                updateScore();
                flippedCards = [];
                if (matchedPairs === totalPairs) {
                    endGame();
                }
            } else {
                document.getElementById('feedback').textContent = 'No match! Try again.';
                document.getElementById('feedback').style.color = '#f44336';
                setTimeout(() => {
                    card1.element.classList.remove('flipped');
                    card2.element.classList.remove('flipped');
                    card1.element.textContent = '';
                    card2.element.textContent = '';
                    flippedCards = [];
                }, 1000);
            }
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            clearInterval(timerInterval);
            gameRunning = false;
            document.getElementById('feedback').textContent = `Game Over! You matched ${matchedPairs} pairs.`;
            document.getElementById('restart-btn').style.display = 'block';
            updateScore();
        }

        function updateScore() {
            document.getElementById('score').textContent = `Score: ${score} / ${totalPairs}`;
        }

        document.getElementById('restart-btn').addEventListener('click', startGame);

        startGame();
    </script>
</body>
</html>
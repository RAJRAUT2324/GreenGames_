<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco Warriors: Recycling Sorting Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            overflow-x: hidden;
            padding: clamp(10px, 2vw, 15px);
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: clamp(15px, 4vw, 30px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 1000px;
            width: 95%;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        h1 {
            text-align: center;
            color: #2d3436;
            margin-bottom: clamp(15px, 3vw, 20px);
            font-size: clamp(1.8em, 5vw, 2.5em);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: clamp(15px, 3vw, 20px);
            flex-wrap: wrap;
            gap: 10px;
        }

        .info-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: clamp(10px, 2vw, 15px) clamp(15px, 3vw, 25px);
            border-radius: 10px;
            font-size: clamp(0.9em, 3vw, 1.1em);
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            flex: 1;
            text-align: center;
            min-width: 120px;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .waste-item {
            display: inline-block;
            padding: clamp(10px, 2vw, 15px) clamp(15px, 3vw, 25px);
            margin: clamp(5px, 1vw, 10px);
            background: white;
            border: 3px solid #dfe6e9;
            border-radius: 15px;
            cursor: grab;
            transition: all 0.3s ease;
            font-size: clamp(0.9em, 3vw, 1.1em);
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            user-select: none;
            touch-action: manipulation;
        }

        .waste-item:hover, .waste-item:active {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .waste-item.dragging {
            opacity: 0.5;
            cursor: grabbing;
            transform: scale(1.1);
        }

        .bins-container {
            display: flex;
            justify-content: space-around;
            margin-top: clamp(20px, 4vw, 40px);
            flex-wrap: wrap;
            gap: clamp(10px, 2vw, 20px);
        }

        .bin {
            width: clamp(140px, 20vw, 180px);
            height: clamp(160px, 25vw, 200px);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .bin.dragover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .bin.correct {
            animation: correctFlash 0.5s;
        }

        .bin.incorrect {
            animation: incorrectShake 0.5s;
        }

        @keyframes correctFlash {
            0%, 100% { background-color: inherit; }
            50% { background-color: #00b894; }
        }

        @keyframes incorrectShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .plastic-bin {
            background: linear-gradient(135deg, #f39c12, #f1c40f);
        }

        .paper-bin {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .organic-bin {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .glass-bin {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .bin-icon {
            font-size: clamp(2em, 6vw, 3em);
            margin-bottom: clamp(5px, 1vw, 10px);
        }

        .bin-label {
            font-size: clamp(0.9em, 3vw, 1.2em);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .message {
            text-align: center;
            margin-top: clamp(15px, 3vw, 20px);
            font-size: clamp(0.9em, 3vw, 1.2em);
            font-weight: bold;
            height: 30px;
            color: #2d3436;
        }

        .message.success {
            color: #00b894;
            animation: bounce 0.5s;
        }

        .message.error {
            color: #d63031;
            animation: shake 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .restart-btn {
            display: block;
            margin: clamp(15px, 3vw, 20px) auto;
            padding: clamp(10px, 2vw, 15px) clamp(25px, 5vw, 40px);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: clamp(0.9em, 3vw, 1.1em);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 300px;
        }

        .restart-btn:hover, .restart-btn:active {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }

        .game-over {
            display: none;
            text-align: center;
            padding: clamp(15px, 4vw, 30px);
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            margin-top: clamp(15px, 3vw, 20px);
            animation: slideIn 0.5s ease-out;
        }

        .game-over h2 {
            font-size: clamp(1.5em, 5vw, 2em);
            margin-bottom: clamp(10px, 2vw, 15px);
        }

        .game-over p {
            font-size: clamp(0.9em, 3vw, 1.2em);
            margin-bottom: clamp(5px, 1vw, 10px);
        }

        @media (max-width: 768px) {
            .game-container {
                width: 100%;
                padding: 15px;
            }

            .game-info {
                flex-direction: column;
                align-items: center;
            }

            .info-box {
                width: 100%;
                max-width: 300px;
            }

            .bins-container {
                flex-direction: column;
                align-items: center;
            }

            .bin {
                width: clamp(200px, 60vw, 250px);
                height: clamp(180px, 30vw, 220px);
            }

            .waste-item {
                display: block;
                width: 100%;
                max-width: 300px;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5em;
            }

            .info-box {
                font-size: 0.9em;
            }

            .waste-item {
                font-size: 0.9em;
                padding: 10px 12px;
            }

            .bin {
                width: clamp(160px, 80vw, 200px);
                height: clamp(140px, 40vw, 180px);
            }

            .bin-icon {
                font-size: 2em;
            }

            .bin-label {
                font-size: 0.9em;
            }

            .message {
                font-size: 0.9em;
            }

            .game-over h2 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üåç Eco Warriors: Recycling Challenge üåç</h1>
        
        <div class="game-info">
            <div class="info-box">Score: <span id="score">0</span></div>
            <div class="info-box">Time: <span id="timer">60</span>s</div>
            <div class="info-box">Items Left: <span id="items-left">15</span></div>
        </div>

        <div id="waste-items">
            <div class="waste-item" draggable="true" data-type="plastic">Plastic Bottle</div>
            <div class="waste-item" draggable="true" data-type="paper">Newspaper</div>
            <div class="waste-item" draggable="true" data-type="organic">Apple Core</div>
            <div class="waste-item" draggable="true" data-type="glass">Glass Jar</div>
            <div class="waste-item" draggable="true" data-type="plastic">Yogurt Container</div>
            <div class="waste-item" draggable="true" data-type="paper">Cardboard Box</div>
            <div class="waste-item" draggable="true" data-type="organic">Banana Peel</div>
            <div class="waste-item" draggable="true" data-type="glass">Wine Bottle</div>
            <div class="waste-item" draggable="true" data-type="plastic">Plastic Bag</div>
            <div class="waste-item" draggable="true" data-type="paper">Magazine</div>
            <div class="waste-item" draggable="true" data-type="organic">Egg Shells</div>
            <div class="waste-item" draggable="true" data-type="plastic">Shampoo Bottle</div>
            <div class="waste-item" draggable="true" data-type="paper">Office Paper</div>
            <div class="waste-item" draggable="true" data-type="organic">Coffee Grounds</div>
            <div class="waste-item" draggable="true" data-type="glass">Broken Mirror</div>
        </div>

        <div class="bins-container">
            <div class="bin plastic-bin" data-bin-type="plastic">
                <div class="bin-icon">‚ôªÔ∏è</div>
                <div class="bin-label">PLASTIC</div>
            </div>
            <div class="bin paper-bin" data-bin-type="paper">
                <div class="bin-icon">üìÑ</div>
                <div class="bin-label">PAPER</div>
            </div>
            <div class="bin organic-bin" data-bin-type="organic">
                <div class="bin-icon">üçÉ</div>
                <div class="bin-label">ORGANIC</div>
            </div>
            <div class="bin glass-bin" data-bin-type="glass">
                <div class="bin-icon">üçæ</div>
                <div class="bin-label">GLASS</div>
            </div>
        </div>

        <div class="message" id="message"></div>

        <div class="game-over" id="game-over">
            <h2>üéâ Great Job, Eco Warrior! üéâ</h2>
            <p>Final Score: <span id="final-score">0</span></p>
            <p>Accuracy: <span id="accuracy">0</span>%</p>
            <p id="performance-message"></p>
        </div>

        <button class="restart-btn" onclick="restartGame()">Restart Game</button>
    </div>

    <script>
        let score = 0;
        let timeLeft = 60;
        let itemsLeft = 15;
        let totalAttempts = 0;
        let correctAttempts = 0;
        let timerInterval;
        let draggedItem = null;
        let gameActive = true;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                
                if (timeLeft <= 10) {
                    document.getElementById('timer').style.color = '#d63031';
                }
                
                if (timeLeft <= 0 || itemsLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function endGame() {
            clearInterval(timerInterval);
            gameActive = false;
            
            const accuracy = totalAttempts > 0 ? Math.round((correctAttempts / totalAttempts) * 100) : 0;
            document.getElementById('final-score').textContent = score;
            document.getElementById('accuracy').textContent = accuracy;
            
            let performanceMessage = '';
            if (accuracy >= 90) {
                performanceMessage = 'üåü Outstanding! You\'re a recycling expert!';
            } else if (accuracy >= 70) {
                performanceMessage = 'üëè Good job! You\'re helping save the planet!';
            } else if (accuracy >= 50) {
                performanceMessage = 'üí™ Keep practicing! Every effort counts!';
            } else {
                performanceMessage = 'üìö Learn more about recycling to improve!';
            }
            
            document.getElementById('performance-message').textContent = performanceMessage;
            document.getElementById('game-over').style.display = 'block';
            
            // Disable dragging
            document.querySelectorAll('.waste-item').forEach(item => {
                item.draggable = false;
                item.style.opacity = '0.5';
                item.style.cursor = 'not-allowed';
            });
        }

        // Drag and Drop functionality
        document.querySelectorAll('.waste-item').forEach(item => {
            item.addEventListener('dragstart', (e) => {
                if (!gameActive) return;
                draggedItem = e.target;
                e.target.classList.add('dragging');
            });

            item.addEventListener('dragend', (e) => {
                e.target.classList.remove('dragging');
            });

            // Touch support for mobile devices
            item.addEventListener('touchstart', (e) => {
                if (!gameActive) return;
                draggedItem = e.target;
                e.target.classList.add('dragging');
            });

            item.addEventListener('touchmove', (e) => {
                if (!gameActive) return;
                e.preventDefault();
                const touch = e.touches[0];
                draggedItem.style.position = 'absolute';
                draggedItem.style.left = `${touch.pageX - draggedItem.offsetWidth / 2}px`;
                draggedItem.style.top = `${touch.pageY - draggedItem.offsetHeight / 2}px`;
            });

            item.addEventListener('touchend', (e) => {
                if (!gameActive) return;
                e.target.classList.remove('dragging');
                draggedItem.style.position = 'static';
                
                const touch = e.changedTouches[0];
                const dropTarget = document.elementFromPoint(touch.clientX, touch.clientY);
                const bin = dropTarget.closest('.bin');
                
                if (bin && draggedItem) {
                    const itemType = draggedItem.dataset.type;
                    const binType = bin.dataset.binType;
                    
                    totalAttempts++;
                    
                    if (itemType === binType) {
                        score += 10;
                        correctAttempts++;
                        bin.classList.add('correct');
                        showMessage('‚úÖ Correct! Great recycling!', 'success');
                        draggedItem.style.display = 'none';
                        itemsLeft--;
                        
                        setTimeout(() => {
                            bin.classList.remove('correct');
                        }, 500);
                    } else {
                        score = Math.max(0, score - 5);
                        bin.classList.add('incorrect');
                        showMessage('‚ùå Wrong bin! Try again!', 'error');
                        
                        setTimeout(() => {
                            bin.classList.remove('incorrect');
                        }, 500);
                    }
                    
                    updateScore();
                }
                draggedItem = null;
            });
        });

        document.querySelectorAll('.bin').forEach(bin => {
            bin.addEventListener('dragover', (e) => {
                if (!gameActive) return;
                e.preventDefault();
                bin.classList.add('dragover');
            });

            bin.addEventListener('dragleave', (e) => {
                bin.classList.remove('dragover');
            });

            bin.addEventListener('drop', (e) => {
                if (!gameActive) return;
                e.preventDefault();
                bin.classList.remove('dragover');
                
                if (draggedItem) {
                    const itemType = draggedItem.dataset.type;
                    const binType = bin.dataset.binType;
                    
                    totalAttempts++;
                    
                    if (itemType === binType) {
                        score += 10;
                        correctAttempts++;
                        bin.classList.add('correct');
                        showMessage('‚úÖ Correct! Great recycling!', 'success');
                        draggedItem.style.display = 'none';
                        itemsLeft--;
                        
                        setTimeout(() => {
                            bin.classList.remove('correct');
                        }, 500);
                    } else {
                        score = Math.max(0, score - 5);
                        bin.classList.add('incorrect');
                        showMessage('‚ùå Wrong bin! Try again!', 'error');
                        
                        setTimeout(() => {
                            bin.classList.remove('incorrect');
                        }, 500);
                    }
                    
                    updateScore();
                    draggedItem = null;
                }
            });
        });

        function showMessage(text, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.className = 'message ' + type;
            
            setTimeout(() => {
                messageEl.textContent = '';
                messageEl.className = 'message';
            }, 2000);
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('items-left').textContent = itemsLeft;
        }

        function restartGame() {
            score = 0;
            timeLeft = 60;
            itemsLeft = 15;
            totalAttempts = 0;
            correctAttempts = 0;
            gameActive = true;
            
            clearInterval(timerInterval);
            
            document.getElementById('score').textContent = score;
            document.getElementById('timer').textContent = timeLeft;
            document.getElementById('timer').style.color = '#2d3436';
            document.getElementById('items-left').textContent = itemsLeft;
            document.getElementById('game-over').style.display = 'none';
            document.getElementById('message').textContent = '';
            
            document.querySelectorAll('.waste-item').forEach(item => {
                item.style.display = 'inline-block';
                item.draggable = true;
                item.style.opacity = '1';
                item.style.cursor = 'grab';
                item.style.position = 'static';
            });
            
            startTimer();
        }

        // Start the game when page loads
        startTimer();
    </script>
</body>
</html>